@model Profile
@section style{
    @Html.IncludeVersionedCss(Url.Content("/assets/design/plugins/fileupload/css/fileupload.css"))

}

<div class="page-header m-1">
    <div class=" text-center">
        <h1 class="page-title">Profile</h1>
    </div>
</div>


<div class="row m-1 p-2 mt-3  userprofile bg-white" id="userprofile-form">
    <div class=" col-xl-4 col-sm-12 col-lg-4 col-md-6 order-2 " id="userprofile">
        <div class="card p-1 d-flex justify-content-center align-items-center mt-3">
            <div >
                <h3  class=" upload-title">Photo Upload </h3>
            </div>

            <div class="img-wrraper ">
                @if (string.IsNullOrEmpty(Model.ImageURL))
                {
                    if (Model.Gender == "Female")
                    {
                        <img class=" rounded-circle" src="/assets/design/images/NoPhoto_Female.png" />
                    }
                    else
                    {
                        <img class=" rounded-circle" alt="img" src="/assets/design/images/NoPhoto_Male.png" />
                    }
                }
                else
                {
                    <img class=" rounded-circle" alt="img" src="/assets/design/images/NoPhoto_Male.png" height="120px" width="auto"/>
                }
                <div>
                    <a id="btnUpload" class="icon-wrapper" href="#"><i class="fa fa-edit" title="Change Image"></i></a>
                </div>
            </div>
        </div>
    </div>
    <div class="col-xl-8 col-sm-12 col-md-6  col-lg-8 order-1 ">
        <div class="row ">


            <div class="col-lg-12 col-md-12 ">
                @if (Model.EMPID != 0)
                {
                    <div class="card">
                        <div class="px-2 my-2">
                            <h3 class="card-title">Detail </h3>
                        </div>
                        <div class="card-body pb-2">
                            <div class="row row-sm">
                                <div class="col-md-12">
                                    <div class="row">
                                        <div class="col-lg-12 form-group">
                                            <label>Employee Code</label>
                                            <p>@Model.EMPCode</p>
                                        </div>
                                        <div class="col-lg-4 form-group">
                                            <label>Employee Name </label>
                                            <p>@Model.EMPName</p>
                                        </div>
                                        <div class="col-lg-4 form-group">
                                            <label>Father Name</label>
                                            <p>@Model.FatherName</p>
                                        </div>


                                        <div class="col-lg-4 form-group">
                                            <label>Date of Birth</label>
                                            <p>@Model.DOB</p>
                                        </div>

                                        <div class="col-lg-4 form-group">
                                            <label>Gender</label>
                                            <p>@Model.Gender</p>
                                        </div>
                                        <div class="col-lg-4 form-group">
                                            <label>Email ID </label>
                                            <p>@Model.EmailID</p>
                                        </div>
                                        @*<div class="col-lg-4 form-group">
                                            <label>Phone </label>
                                            <p>@Model.Phone</p>
                                        </div>*@
                                        <div class="col-lg-4 form-group">
                                            <label>Designation </label>
                                            <p>@Model.DesignName</p>
                                        </div>

                                        <div class="col-lg-4 form-group">
                                            <label>Department</label> 
                                            <input  type="text" class="form-control"/>
                                            <p>@Model.DepartName</p>
                                        </div>


                                        <div class="col-lg-4 form-group">
                                            <label>Date of Joining </label>
                                            <p>@Model.DOJ</p>
                                        </div>




                                        <div class="col-lg-4 form-group">
                                            <label>PAN </label>
                                            <p>@Model.PAN</p>
                                        </div>
                                        <div class="col-lg-4 form-group">
                                            <label>UAN</label>
                                            <p>@Model.UAN</p>
                                        </div>

                                        <div class="col-lg-4 form-group">
                                            <label>ESIC No</label>
                                            <p>@Model.ESIC</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>

                }
                @*@if (Model.AddressList != null && Model.AddressList.Count > 0)
                {
                    <div class="card">
                        <div  class="px-2 my-2">
                            <h3 class="card-title"> Address Details </h3>
                        </div>
                        @foreach (var item in Model.AddressList)
                        {
                            <div class="card-body pb-2">
                                <div class="row row-sm">
                                    <div class="col-md-10">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <label>@item.Doctype</label>
                                            </div>
                                            <div class="col-lg-4 form-group">
                                                <label>State </label>
                                                <p>@item.State</p>
                                            </div>
                                            <div class="col-lg-4 form-group">
                                                <label>City  </label>
                                                <p>@item.City</p>
                                            </div>
                                            <div class="col-lg-4 form-group">
                                                <label>Location <sup>*</sup></label>
                                                <p>@item.Location</p>
                                            </div>
                                            <div class="col-lg-12 form-group">
                                                <label>Address 1</label>
                                                <p>@item.Address1</p>
                                            </div>
                                            <div class="col-lg-12 form-group">
                                                <label>Address 2</label>
                                                <p>@item.Address2</p>
                                            </div>
                                        </div>
                                    </div>


                                </div>

                            </div>
                        }
                    </div>
                }*@

                @*@if (Model.BankList != null && Model.BankList.Count > 0)
                {
                    <div class="card">
                        <div  class="px-2 my-2">
                            <h3 class="card-title">Bank Details </h3>
                        </div>
                        @foreach (var item in Model.BankList)
                        {
                            <div class="card-body pb-2">
                                <div class="row row-sm">
                                    <div class="col-md-10">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <label>@item.Doctype</label>
                                            </div>

                                            <div class="col-lg-4 form-group">
                                                <label>Branch Name </label>
                                                <p>@item.BranchName</p>
                                            </div>
                                            <div class="col-lg-8 form-group">
                                                <label>Bank Name  </label>
                                                <p>@item.BankName</p>
                                            </div>

                                            <div class="col-lg-4 form-group">
                                                <label>Account No <sup>*</sup></label>
                                                <p>@item.AccountNo</p>
                                            </div>

                                            <div class="col-lg-4 form-group">
                                                <label>IFSC Code <sup>*</sup></label>
                                                <p>@item.IFSCCode</p>
                                            </div>

                                        </div>
                                    </div>


                                </div>

                            </div>
                        }
                    </div>
                }*@

                <div class="card">
                    <div class="px-2 my-2">
                        <h3 class="card-title mt-1">User Details </h3>
                    </div>
                    <div class="card-body pb-2">
                        <div class="row row-sm">
                            <div class="col-md-12">
                                <div class="row">
                                    <div class="col-lg-4 col-md-4 col-sm-12 form-group">
                                        <label>User ID<sup>*</sup></label>
                                        <p>@Model.UserID</p>
                                    </div>
                                    <div class="col-lg-4 col-md-4 col-sm-12 form-group">
                                        <label>Name<sup>*</sup></label>
                                        <p>@Model.EMPName</p>
                                    </div>

                                    <div class="col-lg-4 col-md-4 col-sm-12 form-group">
                                        <label>Role Name</label>
                                        <p>@Model.RoleName</p>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        @*<div class="row">
            <div class="col-lg-4 col-md-4 userprofile">
                <div class="card p-4">
                    <h3 class="card-title">Photo Upload </h3>
                    <div class="img-wrraper">
                        @if (string.IsNullOrEmpty(Model.ImageURL))
                        {
                            if (Model.Gender == "Female")
                            {
                                <img class="mx-auto" src="/assets/design/images/NoPhoto_Female.png" />
                            }
                            else
                            {
                                <img class="mx-auto" alt="img" src="/assets/design/images/NoPhoto_Male.png" />
                            }
                        }
                        else
                        {
                            <img class="mx-auto" alt="img" src="@Model.ImageURL?V=@DateTime.Now.ToString("mm:ss")">
                        }
                        <a id="btnUpload" class="icon-wrapper" href="#"><i class="fa fa-edit" title="Change Image"></i></a>
                    </div>
                </div>
                </div>

            <div class="col-lg-8 col-md-8">
                @if (Model.EMPID != 0)
                {
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Detail </h3>
                        </div>
                        <div class="card-body pb-2">
                            <div class="row row-sm">
                                <div class="col-md-10">
                                    <div class="row">
                                        <div class="col-lg-4 form-group">
                                            <label>Employee Code</label>
                                            <p>@Model.EMPCode</p>
                                        </div>
                                        <div class="col-lg-8 form-group">
                                            <label>Employee Name </label>
                                            <p>@Model.EMPName</p>
                                        </div>
                                        <div class="col-md-12"></div>
                                        <div class="col-lg-4 form-group">
                                            <label>Father Name</label>
                                            <p>@Model.FatherName</p>
                                        </div>
                                        <div class="col-lg-4 form-group">
                                            <label>Date of Birth</label>
                                            <p>@Model.DOB</p>
                                        </div>

                                        <div class="col-lg-4 form-group">
                                            <label>Gender</label>
                                            <p>@Model.Gender</p>
                                        </div>
                                        <div class="col-lg-4 form-group">
                                            <label>Designation </label>
                                            <p>@Model.DesignName</p>
                                        </div>

                                        <div class="col-lg-4 form-group">
                                            <label>Department</label>
                                            <p>@Model.DepartName</p>
                                        </div>


                                        <div class="col-lg-4 form-group">
                                            <label>Date of Joining </label>
                                            <p>@Model.DOJ</p>
                                        </div>
                                        <div class="col-lg-4 form-group">
                                            <label>PAN </label>
                                            <p>@Model.PAN</p>
                                        </div>


                                        <div class="col-lg-4 form-group">
                                            <label>Email ID </label>
                                            <p>@Model.EmailID</p>
                                        </div>
                                        <div class="col-lg-4 form-group">
                                            <label>Phone </label>
                                            <p>@Model.Phone</p>
                                        </div>
                                        <div class="col-lg-4 form-group">
                                            <label>UAN</label>
                                            <p>@Model.UAN</p>
                                        </div>

                                        <div class="col-lg-4 form-group">
                                            <label>ESIC No</label>
                                            <p>@Model.ESIC</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>

                }
                @if (Model.AddressList != null && Model.AddressList.Count > 0)
                {
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title"> Address Details </h3>
                        </div>
                        @foreach (var item in Model.AddressList)
                        {
                            <div class="card-body pb-2">
                                <div class="row row-sm">
                                    <div class="col-md-10">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <label>@item.Doctype</label>
                                            </div>
                                            <div class="col-lg-4 form-group">
                                                <label>State </label>
                                                <p>@item.State</p>
                                            </div>
                                            <div class="col-lg-4 form-group">
                                                <label>City  </label>
                                                <p>@item.City</p>
                                            </div>
                                            <div class="col-lg-4 form-group">
                                                <label>Location <sup>*</sup></label>
                                                <p>@item.Location</p>
                                            </div>
                                            <div class="col-lg-12 form-group">
                                                <label>Address 1</label>
                                                <p>@item.Address1</p>
                                            </div>
                                            <div class="col-lg-12 form-group">
                                                <label>Address 2</label>
                                                <p>@item.Address2</p>
                                            </div>
                                        </div>
                                    </div>


                                </div>

                            </div>
                        }
                    </div>
                }

                @if (Model.BankList != null && Model.BankList.Count > 0)
                {
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Bank Details </h3>
                        </div>
                        @foreach (var item in Model.BankList)
                        {
                            <div class="card-body pb-2">
                                <div class="row row-sm">
                                    <div class="col-md-10">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <label>@item.Doctype</label>
                                            </div>

                                            <div class="col-lg-4 form-group">
                                                <label>Branch Name </label>
                                                <p>@item.BranchName</p>
                                            </div>
                                            <div class="col-lg-8 form-group">
                                                <label>Bank Name  </label>
                                                <p>@item.BankName</p>
                                            </div>

                                            <div class="col-lg-4 form-group">
                                                <label>Account No <sup>*</sup></label>
                                                <p>@item.AccountNo</p>
                                            </div>

                                            <div class="col-lg-4 form-group">
                                                <label>IFSC Code <sup>*</sup></label>
                                                <p>@item.IFSCCode</p>
                                            </div>

                                        </div>
                                    </div>


                                </div>

                            </div>
                        }
                    </div>
                }

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">User Details </h3>
                    </div>
                    <div class="card-body pb-2">
                        <div class="row row-sm">
                            <div class="col-md-10">
                                <div class="row">
                                    <div class="col-lg-6 col-md-6 col-sm-6 form-group">
                                        <label>User ID<sup>*</sup></label>
                                        <p>@Model.UserID</p>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-6 form-group">
                                        <label>Name<sup>*</sup></label>
                                        <p>@Model.EMPName</p>
                                    </div>

                                    <div class="col-lg-6 col-md-6 col-sm-6 form-group">
                                        <label>Role Name</label>
                                        <p>@Model.rolename</p>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>*@

        <div class="modal fade pop-dgn" id="UploadImageModal">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">

                    <div class="modal-header blk-gdn-btn ">
                        <h4 class="modal-title"><i class="fas fa-print mr-2"></i>Change Profile Image </h4>
                        <div class="close" data-dismiss="modal">&times;</div>
                    </div>
                    <div class="modal-body">
                        @using (Ajax.BeginForm("SaveProfileImageJson", "Home",
                 new AjaxOptions { HttpMethod = "POST", OnSuccess = "OnSuccess", OnBegin = "ShowLoadingDialog()" },
                    new { @id = "SaveProfileImageFrom", @enctype = "multipart/form-data" })
)
                        {
                            <div class="col-lg-12 form-group camerabtn text">
                                <a  class="mt-4" title="click here for open camera" onclick="OpenCamera(this)" style="color: #fff">
                                    <i class="fa fa-camera " aria-hidden="true"></i>
                                </a>
                                <input type="hidden" class="mx-auto" name="@Html.NameFor(x=>x.ImageBase64String)" value="" />
                                <img src="~/assets/design/images/NoImage.jpeg" />
                            </div>

                            <div class="modal-footer justify-content-center">
                                <button type="submit" class="btn btn-save btn-indigo">@*<i class="fa fa-paper-plane" aria-hidden="true"></i>*@ Save</button>
                            </div>
                        }
                    </div>
                </div>
            </div>

        </div>
        @*<div class="modal fade pop-dgn" id="UploadImageModal">
            <div class="modal-dialog modal-md">
                <div class="modal-content">

                    <div class="modal-header blk-gdn-btn">
                        <h4 class="modal-title"><i class="fas fa-print"></i>Change Profile Image </h4>
                        <div class="close" data-dismiss="modal">&times;</div>
                    </div>
                    <div class="modal-body">
                        @using (Ajax.BeginForm("SaveProfileImageJson", "Home",
                 new AjaxOptions { HttpMethod = "POST", OnSuccess = "OnSuccess", OnBegin = "ShowLoadingDialog()" },
                    new { @id = "SaveProfileImageFrom", @enctype = "multipart/form-data" })
        )
                        {
                            <div class="col-lg-12 form-group camerabtn">
                                <a title="click here for open camera" onclick="OpenCamera(this)" style="color: #fff">
                                    <i class="fa fa-camera" aria-hidden="true"></i>
                                </a>
                                <input type="hidden" name="@Html.NameFor(x=>x.ImageBase64String)" value="" />
                                <img src="~/assets/design/images/NoImage.jpeg" />
                            </div>

                            <div class="modal-footer">
                                <button type="submit" class="btn btn-indigo"><i class="fa fa-paper-plane" aria-hidden="true"></i> Save</button>
                            </div>
                        }
                    </div>
                </div>
            </div>

        </div>*@

    </div>
</div>



@section scripts    {
    @System.Web.Optimization.Scripts.Render("~/bundle/unobtrusivejs")
    @Html.IncludeVersionedJs(Url.Content("/assets/design/plugins/fileupload/js/dropify.js"))
    @Html.IncludeVersionedJs(Url.Content("/assets/design/js/filupload.js"))
    <script>
        $("#btnUpload").click(function () {

            $('#UploadImageModal').modal({
                backdrop: 'static',
                keyboard: false
            })
        });

        function OnSuccess(obj) {
            if (obj.Status) {
                window.location.reload();
            }
            else {
                CloseLoadingDialog();
                FailToaster(obj.SuccessMessage);

            }
        }


    </script>
}